# Chapter 3: Storage and Retrieval

ููู ููุงุนุฏ ุงูุจูุงูุงุช ุงุชุตููุช ุจุงูุดูู ุฏูุ

ุงููุตู ุฏู ูุด ุจูุดุฑุญ โุฅุฒุงู ููุชุจ ููุฏโ
ูู ุจูุดุฑุญ ููู ุฃูุธูุฉ ุงูุชุฎุฒูู ุงุชุทูุฑุช ุจุงูุดูู ุงูุญุงูู.

 ##  1๏ธโฃ ููู ูุญุชุงุฌ Storage Engines ุฃุตูุงูุ
โ ุงููุดููุฉ

ุงููุงุฑุฏ ุฏูุณู ุจุทูุก

ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุงูุนุดูุงุฆูุฉ (Random Access) ููููุฉ ุฌุฏูุง

ุงูุจูุงูุงุช ุจุชูุจุฑ ุฃุณุฑุน ูู ูุฏุฑุฉ ุงููุงุฑุฏ

โ ุงูุญู

ุจูุงุก ูุญุฑูุงุช ุชุฎุฒูู ุฐููุฉ ุชููู ุงูุญุฑูุฉ ุนูู ุงูุฏูุณู

ุฅุนุงุฏุฉ ุชูุธูู ุทุฑููุฉ ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ

ูู ุชูููุฉ ูู ุงููุตู ุฏู ุธูุฑุช ุนูุดุงู ุชููู ุชูููุฉ ุงูุชุนุงูู ูุน ุงูุฏูุณู

## 2๏ธโฃ Log-Structured Storage
โ ุงููุดููุฉ ุงููู ุธูุฑุช ูุจูู

ุชุนุฏูู ุงูุจูุงูุงุช ูู ูุต ุงูููู = ุนูููุงุช ุจุทูุฆุฉ ุฌุฏูุง

ุงูู Random Writes ุจุชูุชู ุงูุฃุฏุงุก

๐ก ููู ุธูุฑุ

ุนูุดุงู:

ุงููุชุงุจุฉ ุงููุชุชุงุจุนุฉ (Sequential Write) ุฃุณุฑุน ุจูุชูุฑ ูู ุงูุชุนุฏูู ุงูุนุดูุงุฆู

โ ุงูุญู

ุฃู ุชุบููุฑ โ ูุชูุชุจ ูู ุขุฎุฑ ุงูููู (Append-only)

ูููุด ุชุนุฏูู ูุจุงุดุฑ

โ๏ธ ุงูุชูุงุฒู

ุงููููุงุช ุจุชูุจุฑ

ูุงุฒู Compaction ุนูุดุงู ูุดูู ุงููุณุฎ ุงููุฏููุฉ

๐ ุงุณุชุฎุฏู ููุง:

ุนูุฏู Writes ูุชูุฑ

ู Logs / Events / Time-series

## 3๏ธโฃ Indexes
โ ุงููุดููุฉ

ุงูุจุญุซ ูู ููููู ุณุฌู = ุจุทูุก ุฌุฏูุง

ู Full Scan ูุด ุญู

๐ก ููู ุธูุฑุชุ

ุนูุดุงู:

ููุฏุฑ ููุตู ููุจูุงูุงุช ุจุณุฑุนุฉ ูู ุบูุฑ ูุง ููุฑุฃ ูู ุญุงุฌุฉ

โ ุงูุญู

ุฏู Structure ุฅุถุงููุฉ ุจุชุฏููู ุนูู ููุงู ุงูุจูุงูุงุช

ุจุญุซ ุฃุณุฑุน ุจุขูุงู ุงููุฑุงุช

โ๏ธ ุงูุชูุงุฒู

ูุณุงุญุฉ ุชุฎุฒูู ุฅุถุงููุฉ

ูู Write ูุงุฒู ูุญุฏุซ ุงูู Index

๐ ุงุณุชุฎุฏู ููุง:

ุงูุจุญุซ ูุชูุฑุฑ

ุงูุฃุฏุงุก ููู

## 4๏ธโฃ B-Trees
โ ุงููุดููุฉ

ูุญุชุงุฌ Index:

ุณุฑูุน ูู ุงููุฑุงุกุฉ

ูุณุชูุฑ

ููุงุณุจ ููู Disk

๐ก ููู ุธูุฑุชุ

ุนูุดุงู:

ุชููู ุนุฏุฏ ูุฑุงุช ุงููุตูู ููุฏูุณู

ุชูุงุฒู ููุชุงุฒ ุจูู Read ู Write

โ ุงูุญู

ุดุฌุฑุฉ ูุชูุงุฒูุฉ

ูู Node ูุตูู ููุงุณุจ ุญุฌู ุตูุญุฉ ุงูุฏูุณู

โ๏ธ ุงูุชูุงุฒู

ุงูุชุญุฏูุซุงุช ุจุชุนูู Random Writes

ุฃุจุทุฃ ูุน Writes ุงูุนุงููุฉ

๐ ููุชุงุฒ ูู:

ุงู Databases ุงูุชูููุฏูุฉ

ูุนุงููุงุช ูุงููุฉ

## 5๏ธโฃ LSM-Trees
โ ุงููุดููุฉ ูุน B-Trees

ุงูู Writes ุงููุชูุฑ = ุฃุฏุงุก ุณูุก

ุงูุฃูุธูุฉ ุงูุญุฏูุซุฉ ูููุง Writes ุถุฎูุฉ ุฌุฏูุง

๐ก ููู ุธูุฑุชุ

ุนูุดุงู:

ูุญุณูู ุณุฑุนุฉ ุงููุชุงุจุฉ ุจุดูู ูุจูุฑ

ูุณุชููุฏ ูู Sequential Writes

โ ุงูุญู

ุงููุชุงุจุฉ ูู ุงูุฐุงูุฑุฉ ุฃูููุง

ุงูุฏูุฌ ูุงุญููุง ุนูู ุงูุฏูุณู (Compaction)

โ๏ธ ุงูุชูุงุฒู

ูู Reads ุฃุจุทุฃ

ู Compaction ููููุฉ

๐ ููุชุงุฒ ูู:

ูู Big Data

ูู Distributed Systems

ูู High write throughput

6๏ธโฃ##  ูููุด ุญู ูุงูู (ุงูููุฑุฉ ุงูุฐูุจูุฉ)

ูู ุชูููุฉ:

ุงุชุฎููุช ุนูุดุงู ุชุญู ูุดููุฉ ูุญุฏุฏุฉ

ูุฏูุนุช ุชูู ูู ุญุชุฉ ุชุงููุฉ

ุงู System Design = ุงุฎุชูุงุฑ ุฃูุณุจ ุชูุงุฒู

๐ ุงูุฎูุงุตุฉ ุงููููุฉ

ุงูุชูููุงุช ูุด ุนุดูุงุฆูุฉ

ูู ูุงุญุฏุฉ ุฑุฏ ูุนู ููุดููุฉ ุญููููุฉ

ููู โูููโ ุฃูู ูู ุญูุธ โุฅุฒุงูโ

๐ ุญุงุฌุงุช ูุงุฒู ุชุจุญุซ ุนููุง

Why sequential I/O is faster than random I/O

Write Amplification

Read Amplification

Compaction strategies
